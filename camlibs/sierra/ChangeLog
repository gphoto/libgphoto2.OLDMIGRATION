2002-07-09  Gilles Grandou <gilles@grandou.net>

	* epson-desc.c
	* sierra-desc.h
	* sierra.h
	* Makefile.am: add initial configuration support for epson
	  3000z through cam_desc. original code is still here for
	  other cameras which may rely on it (if any).

2002-07-09  Selmeczi David <david@esr.elte.hu>

	* olympus-desc.c: Patch aperature to use menu rather than radio.

2002-07-08  Patrick Mansfield <patmans@users.sourceforge.net>

	* nikon-desc.c: Add comment clarifying 995 non-support.
	* olympus-desc.c:
	* sierra-desc.h: Add sierra_default_cam_desc.

2002-07-06  Patrick Mansfield <patmans@users.sourceforge.net>

	* sierra.c: Output summary with warning if no memory card present.
	* library.c: Check for memory card before capture or listing.
	* sierra-desc.c: add extern round() rather than a complete hack.

2002-07-05  Lutz Müller <lutz@users.sourceforge.net>

	Patch by Thomas Reitelbach <tr@erdfunkstelle.de>:

	* sierra.c: Add support for Epson 850z.

2002-07-01  Patrick Mansfield <patmans@users.sourceforge.net>

	* nikon-desc.c
	* olympus-desc.c
	* sierra-desc.c
	* sierra-desc.h
	* sierra.c
	* sierra.h: Add the ability to put the camera manual text in the
	  camera descriptor. Added text for cp880 and cp995. Put text in
	  for the Oly 3040.


2002-07-01  Patrick Mansfield <patmans@users.sourceforge.net>

	Patch by Selmeczi David <david@esr.elte.hu>:

	* sierra.c: Use SIERRA_MODEL_CAM_DESC for some olympus models.

2002-06-28  Lutz Müller <lutz@users.sourceforge.net>

	Patch by Selmeczi David <david@esr.elte.hu>:

	* olympus-desc.c:
	* nikon-desc.c: Prepare for translation.
	* sierra.c: Use the new configuration dialog for more camera models.

2002-06-28  Lutz Müller <lutz@users.sourceforge.net>

	* sierra.h:
	* library.[c,h]:
	* sierra-desc.[c,h]: Fix includes.
	* sierra.c: Remove cruft.

2002-06-28  Selmeczi David <david@esr.elte.hu>

	* olympus-desc.c: New.
	* Makefile.am: Add above file.
	* sierra-desc.h: Reference to olympus-desc.c
	* sierra.c: Use new configuration dialog for the 3040Z.

2002-06-27  Lutz Müller <lutz@users.sourceforge.net>

	* sierra-usbwrap.c: I missed one < GP_OK.

2002-06-27  Lutz Müller <lutz@users.sourceforge.net>

	Selmeczi David <david@esr.elte.hu> fixed the error checks. I added
	the CR macro and fixed the headers.

	* sierra-usbwrap.h: Fix header.
	* sierra-usbwrap.c: Check for gp_* < GP_OK instead of != GP_OK.

2002-06-26  Lutz Müller <lutz@users.sourceforge.net>

	Selmeczi David <david@esr.elte.hu> is working on supporting
	his camera. This is a first step to get his camera working:

	* sierra.c: "Olympus C-3040Z" is supported by this driver, too.

2002-05-29  Patrick Mansfield <patmans@users.sourceforge.net>

	* library.[hc], sierra.[hc], sierra-desc.[ch], nikon-desc.c: 
	  Add camera description table for camera configuration settings.
	  Add support for nikon coolpix 880 using the description table.

2002-05-26  Lutz Müller <lutz@users.sourceforge.net>

	* library.c: Handle the error where the camera sends strange bytes.

2002-05-26  Lutz Müller <lutz@users.sourceforge.net>

	* library.c (sierra_check_connection, sierra_set_speed):
	  These functions are only applicable for serial connections.

2002-05-25  Lutz Müller <lutz@users.sourceforge.net>

	* library.c: If we receive SIERRA_PACKET_SESSION_END, reestablish
	  the connection and switch to the default speed.
	  
2002-05-25  Lutz Müller <lutz@users.sourceforge.net>

	* sierra.c (camera_init): It seems the code I '#if 0'ed out is needed
	  by USB cameras...

2002-05-25  Lutz Müller <lutz@users.sourceforge.net>

	* sierra.c: '#if 0' some code that I don't think is needed at all.
	* library.c (sierra_init): Logs show that sierra_init does not
	  start a new session (i.e. no 0x53 instead of 0x43 needed).

2002-05-25  Lutz Müller <lutz@users.sourceforge.net>

	* library.c (sierra_set_speed): A speed change automatically 
	  starts a new session.

2002-05-25  Lutz Müller <lutz@users.sourceforge.net>

	* library.c: The first packet after initialization (sierra_init)
	  needs a special flag.

2002-05-25  Lutz Müller <lutz@users.sourceforge.net>

	* sierra.c (camera_init): Check if the computer supports high speeds
	  (i.e. 115200).

2002-05-25  Lutz Müller <lutz@users.sourceforge.net>

	* library.c (sierra_check_connection): GP_ERROR_IO_READ is fine, too.

2002-05-24  Lutz Müller <lutz@users.sourceforge.net>

	* library.c: Imitate the behavior of the Windows driver and
	  check before each sierra_write_packet if the connection is
	  still open (sierra_check_connection), i.e. if the camera
	  has sent SIERRA_PACKET_SESSION_END.

2002-05-24  Lutz Müller <lutz@users.sourceforge.net>

	* library.c
	* sierra.c: Move the check if a speed change is really needed into
	  sierra_set_speed.

2002-05-23  Lutz Müller <lutz@users.sourceforge.net>

	* library.c (sierra_init): Don't use sierra_read_packet_wait, 
	  use sierra_read_packet and resend the request on GP_ERROR_TIMEOUT.

2002-05-22  Lutz Müller <lutz@users.sourceforge.net>

	* library.c (sierra_init): Portmon logs show that the port
	  is closed and reopened after SIERRA_PACKET_SESSION_END
	  has been received and before the initial handshake.

2002-05-22  Lutz Müller <lutz@users.sourceforge.net>

	* sierra.c: If the requested speed is 0, we set it to 115200.

2002-05-21  Lutz Müller <lutz@users.sourceforge.net>

	* sierra.c
	* library.[c,h] (sierra_set_speed): Introduce SierraSpeed - makes
	  reading the code easier. Set GP_PIN_DTR before initialization and
	  after speed changes. According to Portmon logs, sierra_init
	  must be called after a SIERRA_PACKET_SESSION_END has been received.
	  Implement that.

2002-05-21  Lutz Müller <lutz@users.sourceforge.net>

	* library.c: Yet another try to handle SIERRA_PACKET_SESSION_END.

2002-05-14  Lutz Müller <lutz@users.sourceforge.net>

	* library.c: Try to handle the strange 0x8c error.

2002-05-13  Lutz Müller <lutz@users.sourceforge.net>

	* library.c: Handle SIERRA_PACKET_SESSION_[END,ERROR] by reinitializing
	  the connection if this error occurs.

2002-04-27  Ilya Konstantinov <gphoto@future.shiny.co.il>

	* sierra.c (camera_start, camera_init): Send the
	  initialization sequence only on init. Olympus C-860L
	  stops communications when receiving an initialization
	  sequence after some communications have already occured.
	
	* library.h, library.c (sierra_ping -> sierra_init):
	  This function isn't really a "ping", since it can be used
	  only on startup.

2002-04-26  Lutz Müller <lutz@users.sourceforge.net>

	* sierra.c (camera_start): Forgot a gp_port_get_settings before
	  checking settings.serial.speed. Shouldn't affect anything though...

2002-04-17  Lutz Müller <lutz@users.sourceforge.net>

	Patch by Ilya Konstantinov <gphoto@future.shiny.co.il>:

	* library.c: break on timeout.

2002-03-29  Lutz Müller <lutz@users.sourceforge.net>

	* library.c (sierra_ping): Retry up to 3 times.

2002-03-28  Lutz Müller <lutz@users.sourceforge.net>

	* library.c: Formatting.
	* sierra.c: Ping the camera before changing the speed.

2002-03-14  Patrick Mansfield <patman@aracnet.com>

	* sierra.c (camera_get_config_olympus, camera_set_config_olympus):
	  Fix getting/setting the shutter speed via conversion to int or
	  float.

2002-02-27  Lutz Müller <lutz@users.sourceforge.net>

	Patch by Patrick Mansfield <patman@aracnet.com>:

	* library.c: Stop the progress only if any has been started.

2002-02-22  Lutz Müller <lutz@users.sourceforge.net>

	* library.c (sierra_get_string_register): Retry on timeout (after
	  sending nak).

2002-02-21  Lutz Müller <lutz@users.sourceforge.net>

	* sierra.c: Olympus C-860L has been reported to work with this driver,
	  too.

2002-02-19  Lutz Müller <lutz@users.sourceforge.net>

	* library.c (sierra_list_files): No need to set the int register,
	  (sierra_get_string_register) will do that for us.

2002-02-18  Lutz Müller <lutz@users.sourceforge.net>

	Per Gilles Grandou's <gilles@grandou.net> request:

	* #undef HAVE_EXIF

2002-02-18  Lutz Müller <lutz@users.sourceforge.net>

	Reported by Patrick Mansfield <patman@aracnet.com>:

	* library.c (sierra_read_packet): At least Nikon CoolPix 880 sets 
	  the checksum always to 0xffff (?!?).

2002-02-11  Lutz Müller <lutz@users.sourceforge.net>

	* Makefile.am: As long as there is EXIF code in here, add
	  EXIF_[CFLAGS,LIBS]. However, there shouldn't be any EXIF code here,
	  it should all be done by the CameraFilesystem...
	* library.c (sierra_list_files): Some cameras don't support filenames.
	  We are now that good in catching errors that we needed to adjust
	  the check here.
	* sierra.c: Remove wrong use of CHECK

2002-02-11  Gilles Grandou <gilles@grandou.net>

	* sierra.c: added EXIF support.

2002-02-08  Lutz Müller <lutz@users.sourceforge.net>

	* library.c (sierra_read_packet): Improve debugging output by
	  reading several bytes at once. Should make transmission faster,
	  too.

2002-02-06  Lutz Müller <lutz@users.sourceforge.net>

	* sierra.[c,h]: Lots of additional debugging output.

2002-02-06  Lutz Müller <lutz@users.sourceforge.net>

	* sierra.c (sierra_read_packet_wait): {int res=(res);... 
	  just cannot work. Read the macro definitions...

2002-02-05  Lutz Müller <lutz@users.sourceforge.net>

	* sierra.c (camera_init): Pass NULL as context, because we will
	  ignore those error messages and are just probing for the level of
	  support for filenames or folders.

2002-02-05  Lutz Müller <lutz@users.sourceforge.net>

	* library.c (sierra_read_packet): TYPE_COMMAND is a multi-byte
	  packet, too, according to protocol.htm (see photopc).

2002-02-05  Lutz Müller <lutz@users.sourceforge.net>

	* library.c (sierra_list_files): For cameras that don't support
	  filenames, it is useless to try to get a filename for each 
	  file. Just try on the first one. If this fails, come up with 
	  dummy filenames for each file.

2002-02-05  Lutz Müller <lutz@users.sourceforge.net>

	* library.c (sierra_read_packet): Hopefully this fixes problems
	  with serial cameras: TYPE_DATA[_END] identifies packets of more
	  than one byte.

2002-01-29  Lutz Müller <lutz@users.sourceforge.net>

	* library.c: Cleanup.

2002-01-27  Lutz Müller <lutz@users.sourceforge.net>

	* sierra.c: %s/== GP_OK/>= 0. Fixes camera_config (for example).

2002-01-22  Lutz Müller <lutz@users.sourceforge.net>

	William Bader <william@nscs.fast.net> reported (partial) success
	with his Polaroid PDC2300Z.

	* sierra.c: New model.
	* library.c: Clean-up.

2002-01-22  Lutz Müller <lutz@users.sourceforge.net>

	William Bader <william@nscs.fast.net> reported (partial) success
	with his Polaroid PDC2300Z.

	* sierra.c: New model.

2002-01-19  Lutz Müller <lutz@users.sourceforge.net>

	* library.c: I messed up the logic: TYPE_DATA and TYPE_DATA_END 
	  are _not_ single byte packets.

2002-01-17  Lutz Müller <lutz@users.sourceforge.net>

	* library.c: Improved debugging messages. I hope I didn't break
	  the logic...

2002-01-16  Lutz Müller <lutz@users.sourceforge.net>

	* library.c: Additional debugging messages.

2002-01-13  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* *.[c,h]: Remove references to gp_camera_set_error.

2002-01-09  Dan Fandrich <dan@coneharvesters.com>

	* sierra-usbwrap.c: Fixed a pointer arithmetic portability issue.

2001-12-01  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	Suggestion from Stefan Höhne <s_hoehne@informatik.uni-kl.de>:

	* library.c: Check for filename == "        ". It seems his 
	  camera doesn't support filenames.
	* sierra.c: Add "Olympus C-2500L".
