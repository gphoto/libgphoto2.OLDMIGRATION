2001-12-14  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* gphoto2-port-config.in: Added missing -lgphoto2_port

2001-12-13  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* configure.in: Check if ltdl.h is available and ...
	* libgphoto2_port: ... use it.

2001-12-12  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	Remove some error codes, and move some variable names into the
	gp-namespace.

2001-12-11  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* libgphoto2_port/gphoto2-port-result.[c,h]: Remove
	  GP_ERROR_IO_TIMEOUT - we already have GP_ERROR_TIMEOUT.

2001-12-07  Hans Ulrich Niedermann <hun@n-dimensional.de>

	* libgphoto2_port/gphoto2-port-log.c: ENABLE_DEBUGGING -> DISABLE_DEBUGGING
	* doc/gphoto2-port-sections.txt: added lots of constants, a few macros and
	  created new sections about serial and usb specific stuff

2001-12-07  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* configure.in: You won't believe how much dead code there is...

2001-12-07  Hans Ulrich Niedermann <hun@n-dimensional.de>

	* gphoto2-port-config.in: made it work again

2001-12-01  Hans Ulrich Niedermann <hun@n-dimensional.de>

	* configure.in: help cosmetics
	* m4/documentation.m4: help cosmetics,
	  added check for transfig and AM_CONDITIONAL BUILD_FIGURES,
	  simplified mechanism that determines whether to build docs or not
	* m4/packaging.m4: help cosmetics, renamed PGK_* to GPKG_*,
	  improved messages
	
2001-11-29  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* libgphoto2_port/gphoto2-port-info-list.c: The logic was still
	  broken...

2001-11-29  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* libgphoto2_port/gphoto2-port-info-list.c: Oh god, I checked in a
	  #if 0 that I used for debugging purposes. Sorry, guys....

2001-11-29  Fredrik <fredrik@krixor.xy.org>

	* libgphoto2_port/gphoto2-port-portability.h: OpenBSD also prepends
	  underscores to symbols.

2001-11-29  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* libgphoto2_port/gphoto2-port-info-list.c: Fix regex stuff 
	  (at least for HAVE_GNU_REGEX).

2001-11-29  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* configure.in: Check for GNU regex
	* acconfig.h: HAVE_GNU_REGEX
	* serial:
	* libgphoto2_port: First try to implement a regex match. Doesn't work
	  yet.

2001-11-29  Hans Ulrich Niedermann <hun@n-dimensional.de>

	* libgphoto2_port/m4/packaging.m4: added packaging macro

2001-11-27  Hans Ulrich Niedermann <hun@n-dimensional.de>

	* po/libgphoto2_port.pot: I'm sick of all the diffs
	* po/de.po: I'm still sick of all the diffs

2001-11-27  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* serial/unix.c (gp_port_library_list): Lock device here before
	  trying to access a port, too.

2001-11-26  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* configure.in: Fix typo (USB_LIBS, not USB_LDFLAGS) *sigh*
	* usb/Makefile.am: libgphoto2-port-usb.so needs -lusb, therefore add
	  it using LIBADD (ldopen is not clever enough to figure that out).

2001-11-25  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* gphoto2-port-config.in: Remove another reference to IOLIB_CFLAGS...

2001-11-25  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* serial/unix.c: Always set the speed at the beginning - don't assume
	  it to be at 9600.

2001-11-25  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* serial/unix.c: For flush and break, check that the device is open
	  and at the right speed.

2001-11-24  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* serial/unix.c: Try to fix logic of speed setting: Now check before
	  each read/write operation if the current speed is the requested one.
	  If not, change it and remember it in dev->pl->baudrate.

2001-11-24  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* libgphoto2_port/Makefile.am: @IOLIB_CFLAGS@ doesn't exist any more.

2001-11-23  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* serial/unix.c: Only set the baudrate if the device is open. If you
	  set parameters on device 0, you mess up the console...

2001-11-23  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* configure.in:
	* serial/Makefile.am
	* usb/Makefile.am: Clean up Makefiles. Avoid version on io-drivers
	  (we don't check it anyways)

2001-11-22  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	Patch from Marr <marr@shianet.org>:

	* libgphoto2/gphoto2-port.c: Fix bug whereby hexadecimal output is
	  erroneously shown in decimal format.
	* serial/unix.c (gp_port_serial_update): Don't open/close the port
	  here (does this break anything?)

2001-11-17  Colin Marquardt  <colin@marquardt-home.de>

	* configure.in (Module): Added 'de' to ALL_LINGUAS.

2001-11-11  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* configure.in: Look for usb.h in locations specified by
	  libusb-config.

2001-10-29  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* usb/libusb.c: memset port->pl to 0 so that we can later detect
	  errors

2001-10-28  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* libgphoto2_port/gphoto2-port-portability.[c,h] (GP_SYSTEM_RMDIR):
	  New

2001-10-27  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* libgphoto2: Updated documentation

2001-10-26  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* include: Move everything from here to ...
	* libgphoto2_port: ... here.

2001-10-26  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* configure.in: Give users the possibility _not_ to compile in USB
	  support. Same with SERIAL.

2001-10-26  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* include/gphoto2-port.h: Changed the syntax of gp_port_new to
	  be consistent with gp_camera_new.

2001-10-26  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* network
	* parallel
	* ieee1394: Removed. Once someone wants to implement those, they can
	  be easily resurrected.

2001-10-25  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* usb/libusb.c:
	* include/gphoto2-port.h: Cleanup.

2001-10-25  Fredrik <fredrik@krixor.xy.org>

	* libgphoto2_port/gp_port.c: Write number of bytes we are going
	  to read in debug message as this was not shown when the read
	  failed.
	  Fix bug when logging data in gp_port_usb_msg_read().

2001-10-25  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* libgphoto2_port/gphoto2-port-core.[c,h]: Replaced by ...
	* libgphoto2_port/gphoto2-port-info-list.[c,h]: ... this file.

2001-10-23  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* libgphoto2_port/gphoto2-port-log.[c,h]: Remove the history stuff.
	* libgphoto2_port/gp_port.c (gp_port_set_error), (gp_port_get_error):
	  New.
	* serial/unix.c: Use gp_port_set_error

2001-10-22  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* libgphoto2_port/gphoto2-port-log.[c,h]: Use va_list instead of 
	  a buffers. That means, no more incomplete data dumps.

2001-10-20  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* libgphoto2_port/gp_port.c: Forot to set default speed to 0

2001-10-20  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* configure.in: Add some more warning flags
	* include/gphoto2-port.h: More cleanup in preparation of documentation
	* libgphoto2_port/gp_port.c: Move internals into port->pc
	* serial/unix.c: Move internals into port->pl. If speed in settings
	  is 0, set to 9600 (default).

2001-10-17  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* libgphoto2_port/gphoto2-port-log.[c,h]: Added GP_LOG_DATA

2001-10-17  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* include/gphoto2-port-debug.h
	* libgphoto2_port/debug.c: Removed

2001-10-16  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* libgphoto2_port/result.c:
	* include/gphoto2-port-result.h: #define GP_ERROR_NOT_SUPPORTED
	* libgphoto2_port/gp_port.c: Clean up in preparation of documentation

2001-10-16  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* ieee1394/Makefile.am:
	* serial/Makefile.am:
	* parallel/Makefile.am:
	* usb/Makefile.am:
	* network/Makefile.am: -I$(top_srcdir)/libgphoto2_port
	* include/gphoto2-port-result.h: GP_ERROR_UNKNOWN_PORT instead of
	  GP_ERROR_IO_UNKNOWN_PORT.
	* include/gphoto2-port.h: GPPortType, GPPortOperations, GPPort
	* libgphoto2_port/gphoto2-port-core.[c,h]: New. 

2001-10-16  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* doc: Create framework for documentation.
	* libgphoto2_port/gphoto2-port-log.[c,h]: Updated

2001-10-14  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* include/gphoto2-port-result.h: GP_ERROR_NO_MEMORY
	* libgphoto2_port/result.c: GP_ERROR_NO_MEMORY

2001-10-12  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	Patch from Fredrik <fredrik@krixor.xy.org>:

	* libgphoto2_port/gp_port.c: 
	* usb/libusb.c: Better error checking

2001-10-07  Lutz Müller <urc8@rz.uni-karlsruhe.de>

        Patch from David Faure <david@mandrakesoft.com>

	* libgphoto2_port/library.c: Fix logic

2001-10-06  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	Suggestions from Hans Ulrich Niedermann <hun@n-dimensional.de>:

	* libgphoto2_port/debug.c: #warn the user #ifndef HAVE_VSNPRINTF and
	use a #define at the beginning instead of #ifdefs in the code.

2001-10-06  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* include/gphoto2-port-debug.h
	* libgphoto2_port/debug.c (gp_port_debug_history_get_size): New.
	(gp_port_debug_printf): Append the msg to the history after calling
	the debugging function.
	(gp_port_history_append): Don't try to remove full messages, just 
	remove as many bytes as needed.

2001-10-06  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* include/gphoto2-port-debug.h
	* libgphoto2/debug.c (gp_port_debug_get_level): New. In addition,
	remove port-dependent debug levels as frontends are not able to 
	change them dynamically. Just use the global one.
	* include/gphoto2-port.h
	* libgphoto2_port/gp_port.c: gp_port_init without debug level. That 
	can and should be done separately.
	* libgphoto2_port/library.c
	* test/test-gp-port.c
	* serial/unix.c: Adjust to above changes
	* usb/libusb.c: Use gp_port_debug_printf instead of fprintf

2001-10-06  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	Chris Byrne <adapt@ihug.co.nz> found this bug:

	* libgphoto2_port/debug.c: Use "%s" because the string we print can
	contain characters like "%%%%i%s&%i".

2001-10-05  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* libgphoto2_port/gp_port.c: Print what we received only if we received
	something...

2001-10-05  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	Patch from Hans Ulrich Niedermann <hun@n-dimensional.de>, slightly
	adapted:

	* include/gphoto2-port-debug.h
	* libgphoto2_port/debug.c (gp_port_debug_print_data): New
	* libgphoto2_port/gp_port.c: Use the new function.

2001-10-05  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* libgphoto2_port/debug.c: #include <config.h>

2001-10-05  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	Suggestion from Fredrik <fredrik@krixor.xy.org>:

	* configure.in: Check for vsnprintf
	* libgphoto2_port/debug.c: Use vsnprintf if available

2001-10-05  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	Patch based on suggestions from Fredrik <fredrik@krixor.xy.org>:

	* libgphoto2_port/debug.c: Make sure we memset the same number of 
	bytes we malloc.

2001-10-04  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* serial/unix.c: 
	* usb/libusb.c: Fix includes

2001-10-04  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* include/Makefile.am
	* include/gphoto2-port-result.h
	* libgphoto2_port/Makefile.am
	* libgphoto2_port/result.c: New
	* include/gphoto2-port-debug.h: Define debug levels here
	* include/gphoto2-port.h: Clean up
	* libgphoto2_port/debug.c: Check if history is big enough for message

2001-10-04  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* include/Makefile.am
	* include/gphoto2-port-debug.h
	* libgphoto2_port/Makefile.am
	* libgphoto2_port/debug.c: New files
	* libgphoto2_port/gp_port.c: Move debugging stuff out of here.

2001-10-04  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* include/gphoto2-port.h:
	* libgphoto2_port/gp_port.c: Revert the result_as_description thing

2001-10-04  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* acconfig.h:
	* configure.in:
	* serial/unix.c: Use baudboy.h if available (Red Hat)

2001-10-04  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	Thanks to Bill Richardson <bill@riverstonenet.com>:

	* test/Makefile.am: Oops, don't use -lgphoto_port

2001-10-03  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* acconfig.h: #undef HAVE_TTYLOCK
	* configure.in: Improved checks for locking headers/libs
	* serial/unix.c: Yet another locking lib: ttylock.h

2001-10-03  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* include/gphoto2-port.h:
	* libgphoto2_port/gp_port.c: Explain to the users why claiming an 
	interface could fail.

2001-10-03  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* include/gphoto2-port.h:
	* libgphoto2_port/gp_port.c (gp_port_result_as_description): New

2001-10-03  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* serial/unix.c: Correctly interpret the return value of dev_[un]lock

2001-10-03  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* test/gphoto2-port-test.c: Renamed into 
	* test/test-gp-port.c
	* test/Makefile.am: New
	* Makefile.am: Add test to SUBDIRS
	* acconfig.h: #undef HAVE_LOCKDEV
	* configure.in: Check for lockdev and use it if available
	* serial/Makefile.am: -llockdev if that is available
	* serial/unix.c: Use lockdev if available

2001-09-24  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* libgphoto2_port/gp_port.c (gp_port_count): Make sure
	libgphoto2_port is initialized.

2001-09-22  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	Patch from Fredrik <fredrik@krixor.xy.org>

	* include/gphoto2-port.h:
	* libgphoto2_port/gp_port.c:
	* serial/unix.c:
	* usb/libusb.c: Clean up settings code.

2001-09-22  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	Patch from Carsten Pfeiffer <carpdjih@sp.zrz.tu-berlin.de>

	* libgphoto2_port/library.c: 
	* libgphoto2_port/portability.c: char *whatever -> const char *whatever

2001-09-18  Chris PInkham <cpinkham@infi.net>

	* include/gphoto2-port.h
	  libgphoto2_port/gp_port.c
	  usb/libusb.c: changed *usb_msg_read* and *usb_msg_write* functions
	  to allow passing in of request and index values.

2001-09-14  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	Patch from Fredrik <fredrik@krixor.xy.org>:

	* usb/libusb.c: Only set configuration stuff on gp_port_usb_update
	(instead of gp_port_usb_open).

2001-09-14  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* libgphoto2_port/gp_port.c: Set some default settings in case of
	GP_PORT_USB, too.

2001-09-02  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* include/gphoto2-portability.h:
	* include/libgphoto2_port/portability.c: const *char

2001-08-30  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* include/gphoto2-port.h: GP_ERROR_IO_LOCK
	* libgphoto2_port/gp_port.c: Better error reporting.
	* serial/unix.c: Implement locking of serial ports

2001-08-29  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	All work from Fabrice Bellet <Fabrice.Bellet@creatis.insa-lyon.fr>:

	* libgphoto2_port/library.c (gp_port_library_list): Don't try to
	open .*
	* usb/libusb.c (gp_port_usb_close): Release the interface here.

2001-08-29  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* libgphoto2_port/gp_port.c: if (!dev) return (GP_OK) instead of
	accessing dev->whatever... Plus, set the timeout on gp_port_open.

2001-08-27  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	Suggestion from Fabrice Bellet <Fabrice.Bellet@creatis.insa-lyon.fr>:

	* include/gphoto2-port.h:
	* usb/libusb.c (gp_port_usb_close): Don't report an error if the
	device has already been closed. Correctly reuse the devices on
	gp_port_open after gp_port_close.

	* parallel/Makefile.am: Remove some references to libgpio.

2001-03-16  Lutz Müller <urc8@rz.uni-karlsruhe.de>

	* gphoto2-port-test.c: Applied patch from Michael 
	  <michael.spanier@abh.uni-karlsruhe.de> which brings the file
	  in sync with current API.

2000-07-15  Fabrice Bellet  <Fabrice.Bellet@creatis.insa-lyon.fr>

	* gpio-usb.c : removed useless call to usb_release_interface()
	  because the usbdev close ioctl already does the job for us.
	  Compilation warning fix.

2000-07-09  Fabrice Bellet  <Fabrice.Bellet@creatis.insa-lyon.fr>

	* Makefile.am : fixed typo.
	* gpio-usb.c : cosmetic namespace changes.
	* gpio.c : fixed compilation warnings.

2000-01-07  Ole Aamot  <oka@ifi.uio.no>

	* Added USB patch from Johannes Erdfelt <jerdfelt@valinux.com> 

1999-12-28  Ole Aamot  <oka@ifi.uio.no>

	* libgpio.spec.in: added

1999-12-27  Ole Aamot  <oka@ifi.uio.no>

	* Added auto* build scripts.
